{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultAvatar=\"https://ui-avatars.com/api/?background=random\";export default function Message(_ref){var _msg$isOnline,_msg$reactions;let{msg,onReactClick}=_ref;// Render a different style for system messages\nif(msg.system){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',fontStyle:'italic',color:'#666',margin:'10px 0',fontSize:14,userSelect:'none'},children:msg.text});}// For regular messages, show avatar and content as before\nconst isOnline=(_msg$isOnline=msg.isOnline)!==null&&_msg$isOnline!==void 0?_msg$isOnline:true;// Default true or pass actual online status\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble fade-in\",style:{display:'flex',alignItems:'flex-start',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'inline-block'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"avatar\",src:msg.avatarUrl||defaultAvatar,alt:\"user avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"avatar-status \".concat(isOnline?'avatar-online':'avatar-offline'),style:{position:'absolute',bottom:0,right:0,width:12,height:12,borderRadius:'50%',border:'2px solid white',backgroundColor:isOnline?'#22c55e':'#9ca3af'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:4},children:msg.user}),msg.reply&&/*#__PURE__*/_jsxs(\"div\",{style:{fontStyle:'italic',color:'#444',margin:'6px 0'},children:[\"\\u21AA\\uFE0F Reply: \",msg.reply]}),msg.fileName?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"File:\"}),\" \",msg.fileName,/*#__PURE__*/_jsx(\"div\",{children:msg.fileType&&msg.fileType.startsWith('image/')?/*#__PURE__*/_jsx(\"img\",{src:msg.data,alt:msg.fileName,style:{maxWidth:250,marginTop:5}}):/*#__PURE__*/_jsx(\"a\",{href:msg.data,download:msg.fileName,style:{color:'#2563eb'},children:\"Download\"})})]}):/*#__PURE__*/_jsx(\"div\",{children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:\"message-status\",style:{marginTop:5},children:(msg.status==='delivered'||msg.status==='read')&&/*#__PURE__*/_jsx(\"span\",{style:{color:msg.status==='read'?'#2563eb':'gray',fontWeight:'bold'},children:\"\\u2713\\u2713\"})}),((_msg$reactions=msg.reactions)===null||_msg$reactions===void 0?void 0:_msg$reactions.length)>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:5},children:[\"Reactions:\",' ',msg.reactions.map((emoji,idx)=>/*#__PURE__*/_jsx(\"span\",{style:{marginRight:6},children:emoji},emoji+idx))]}),/*#__PURE__*/_jsx(\"button\",{onClick:onReactClick,style:{marginTop:5},children:\"React\"})]})]});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","defaultAvatar","Message","_ref","_msg$isOnline","_msg$reactions","msg","onReactClick","system","style","textAlign","fontStyle","color","margin","fontSize","userSelect","children","text","isOnline","className","display","alignItems","gap","position","src","avatarUrl","alt","concat","bottom","right","width","height","borderRadius","border","backgroundColor","flex","fontWeight","marginBottom","user","reply","fileName","fileType","startsWith","data","maxWidth","marginTop","href","download","status","reactions","length","map","emoji","idx","marginRight","onClick"],"sources":["C:/Users/harsh/OneDrive/Desktop/Chat-App/client/src/components/Message.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst defaultAvatar = \"https://ui-avatars.com/api/?background=random\";\r\n\r\nexport default function Message({ msg, onReactClick }) {\r\n  // Render a different style for system messages\r\n  if (msg.system) {\r\n    return (\r\n      <div style={{\r\n        textAlign: 'center', \r\n        fontStyle: 'italic', \r\n        color: '#666', \r\n        margin: '10px 0',\r\n        fontSize: 14,\r\n        userSelect: 'none',\r\n      }}>\r\n        {msg.text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // For regular messages, show avatar and content as before\r\n  const isOnline = msg.isOnline ?? true; // Default true or pass actual online status\r\n\r\n  return (\r\n    <div className=\"message-bubble fade-in\" style={{ display: 'flex', alignItems: 'flex-start', gap: '10px' }}>\r\n      <div style={{ position: 'relative', display: 'inline-block' }}>\r\n        <img className=\"avatar\" src={msg.avatarUrl || defaultAvatar} alt=\"user avatar\" />\r\n        <span\r\n          className={`avatar-status ${isOnline ? 'avatar-online' : 'avatar-offline'}`}\r\n          style={{\r\n            position: 'absolute',\r\n            bottom: 0,\r\n            right: 0,\r\n            width: 12,\r\n            height: 12,\r\n            borderRadius: '50%',\r\n            border: '2px solid white',\r\n            backgroundColor: isOnline ? '#22c55e' : '#9ca3af'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ flex: 1 }}>\r\n        <div style={{ fontWeight: 'bold', marginBottom: 4 }}>{msg.user}</div>\r\n        {msg.reply && (\r\n          <div style={{ fontStyle: 'italic', color: '#444', margin: '6px 0' }}>\r\n            ↪️ Reply: {msg.reply}\r\n          </div>\r\n        )}\r\n\r\n        {msg.fileName ? (\r\n          <div>\r\n            <strong>File:</strong> {msg.fileName}\r\n            <div>\r\n              {msg.fileType && msg.fileType.startsWith('image/') ? (\r\n                <img src={msg.data} alt={msg.fileName} style={{ maxWidth: 250, marginTop: 5 }} />\r\n              ) : (\r\n                <a href={msg.data} download={msg.fileName} style={{ color: '#2563eb' }}>\r\n                  Download\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>{msg.text}</div>\r\n        )}\r\n\r\n        <div className=\"message-status\" style={{ marginTop: 5 }}>\r\n          {(msg.status === 'delivered' || msg.status === 'read') && (\r\n            <span style={{ color: msg.status === 'read' ? '#2563eb' : 'gray', fontWeight: 'bold' }}>\r\n              ✓✓\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {msg.reactions?.length > 0 && (\r\n          <div style={{ marginTop: 5 }}>\r\n            Reactions:{' '}\r\n            {msg.reactions.map((emoji, idx) => (\r\n              <span key={emoji + idx} style={{ marginRight: 6 }}>{emoji}</span>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <button onClick={onReactClick} style={{ marginTop: 5 }}>\r\n          React\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}