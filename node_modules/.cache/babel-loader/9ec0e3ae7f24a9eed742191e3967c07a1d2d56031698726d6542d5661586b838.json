{"ast":null,"code":"import _objectSpread from\"C:/Users/harsh/OneDrive/Desktop/Chat-App/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useRef}from'react';import io from'socket.io-client';import Message from'./Message';import TypingIndicator from'./TypingIndicator';import EmojiPicker from'./EmojiPicker';import Toast from'./Toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Chat(_ref){let{username}=_ref;const[messages,setMessages]=useState([]);const[messageInput,setMessageInput]=useState('');const[selectedFile,setSelectedFile]=useState(null);const[showInputEmojiPicker,setShowInputEmojiPicker]=useState(false);const[reactionPickerForMsgId,setReactionPickerForMsgId]=useState(null);const[typingUser,setTypingUser]=useState('');const[activeUsers,setActiveUsers]=useState([]);const[notification,setNotification]=useState('');const messagesEndRef=useRef();const socketRef=useRef();const typingTimeoutRef=useRef();useEffect(()=>{socketRef.current=io('http://localhost:3001',{query:{username}});// Listen for regular messages\nsocketRef.current.on('message',msg=>{setMessages(m=>{if(m.find(existing=>existing.id===msg.id)){return m.map(existing=>existing.id===msg.id?_objectSpread(_objectSpread({},existing),{},{status:msg.status}):existing);}return[...m,msg];});if(msg.user!==username){socketRef.current.emit('messageReceived',{msgId:msg.id,senderSocketId:msg.senderSocketId});socketRef.current.emit('readMessage',{msgId:msg.id,senderSocketId:msg.senderSocketId});}});// Listen for file messages\nsocketRef.current.on('fileMessage',msg=>{setMessages(m=>{if(m.find(existing=>existing.id===msg.id)){return m.map(existing=>existing.id===msg.id?_objectSpread(_objectSpread({},existing),{},{status:msg.status}):existing);}return[...m,msg];});if(msg.user!==username){socketRef.current.emit('messageReceived',{msgId:msg.id,senderSocketId:msg.senderSocketId});socketRef.current.emit('readMessage',{msgId:msg.id,senderSocketId:msg.senderSocketId});}});// Listen for system messages (user joined/left)\nsocketRef.current.on('systemMessage',msg=>{setMessages(m=>[...m,_objectSpread(_objectSpread({},msg),{},{system:true})]);});// Listen for status updates\nsocketRef.current.on('messageStatusUpdate',_ref2=>{let{msgId,status}=_ref2;setMessages(m=>m.map(msg=>msg.id===msgId?_objectSpread(_objectSpread({},msg),{},{status}):msg));});socketRef.current.on('userJoined',msg=>showNotification(msg));socketRef.current.on('userLeft',msg=>showNotification(msg));socketRef.current.on('activeUsers',users=>setActiveUsers(users));socketRef.current.on('typing',user=>{setTypingUser(user);clearTimeout(typingTimeoutRef.current);typingTimeoutRef.current=setTimeout(()=>setTypingUser(''),4000);});socketRef.current.on('stopTyping',()=>{setTypingUser('');clearTimeout(typingTimeoutRef.current);});socketRef.current.on('reactUpdate',_ref3=>{let{msgId,emoji}=_ref3;return setMessages(m=>m.map(msg=>msg.id===msgId?_objectSpread(_objectSpread({},msg),{},{reactions:[...(msg.reactions||[]),emoji]}):msg));});return()=>{socketRef.current.disconnect();clearTimeout(typingTimeoutRef.current);};},[username]);useEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},[messages]);const showNotification=msg=>{setNotification(msg);setTimeout(()=>setNotification(\"\"),2200);};const handleChange=e=>{setMessageInput(e.target.value);};const handleKeyDown=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();if(messageInput.trim()){sendMessage(messageInput);}}};const sendMessage=(text,replyTo)=>{if(!text.trim())return;const message={id:Date.now(),text,user:username,replyTo:replyTo||null,avatarUrl:\"https://ui-avatars.com/api/?name=\".concat(username,\"&background=random\"),senderSocketId:socketRef.current.id,status:'sent'};socketRef.current.emit('sendMessage',message);setMessageInput('');setShowInputEmojiPicker(false);socketRef.current.emit('stopTyping',username);};const sendFile=()=>{if(!selectedFile)return;const reader=new FileReader();reader.onload=e=>{const base64Data=e.target.result;const fileMessage={id:Date.now(),user:username,avatarUrl:\"https://ui-avatars.com/api/?name=\".concat(username,\"&background=random\"),senderSocketId:socketRef.current.id,fileName:selectedFile.name,fileType:selectedFile.type,data:base64Data,status:'sent'};socketRef.current.emit('sendFile',fileMessage);setSelectedFile(null);};reader.readAsDataURL(selectedFile);};const handleTyping=()=>{if(!socketRef.current)return;socketRef.current.emit('typing',username);clearTimeout(typingTimeoutRef.current);typingTimeoutRef.current=setTimeout(()=>{socketRef.current.emit('stopTyping',username);},3000);};const reactToMsg=(msgId,emoji)=>{socketRef.current.emit('reactMessage',msgId,emoji);};const handleInputEmojiSelect=emoji=>{setMessageInput(prev=>prev+emoji);setShowInputEmojiPicker(false);};const handleReactEmojiSelect=emoji=>{if(reactionPickerForMsgId){reactToMsg(reactionPickerForMsgId,emoji);setReactionPickerForMsgId(null);}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:500,border:'1px solid #ccc',padding:10,margin:'auto',background:\"#fafaff\",borderRadius:13},children:[/*#__PURE__*/_jsx(Toast,{message:notification}),/*#__PURE__*/_jsxs(\"div\",{className:\"active-users-container\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Active Users (\",activeUsers.length,\"):\"]}),/*#__PURE__*/_jsx(\"ul\",{children:activeUsers.map((user,i)=>/*#__PURE__*/_jsx(\"li\",{children:user},user+i))})]}),/*#__PURE__*/_jsx(TypingIndicator,{typingUser:typingUser}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"chat-input\",placeholder:\"Type your message...\",rows:2,value:messageInput,onChange:handleChange,onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(\"button\",{className:\"emoji-picker-btn\",onClick:()=>setShowInputEmojiPicker(!showInputEmojiPicker),children:\"\\uD83D\\uDE00\"}),/*#__PURE__*/_jsx(\"button\",{className:\"send-btn\",onClick:()=>sendMessage(messageInput),disabled:!messageInput.trim(),children:\"\\u27A4\"})]}),showInputEmojiPicker&&/*#__PURE__*/_jsx(EmojiPicker,{onSelect:handleInputEmojiSelect}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setSelectedFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:sendFile,disabled:!selectedFile,style:{marginLeft:8},children:\"Send File\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[messages.map(msg=>{var _messages$find;return/*#__PURE__*/_jsx(Message,{msg:_objectSpread(_objectSpread({},msg),{},{reply:msg.replyTo?((_messages$find=messages.find(m=>m.id===msg.replyTo))===null||_messages$find===void 0?void 0:_messages$find.text)||'':null}),onReactClick:()=>setReactionPickerForMsgId(msg.id)},msg.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),reactionPickerForMsgId&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',bottom:100,left:50,zIndex:100},children:[/*#__PURE__*/_jsx(EmojiPicker,{onSelect:handleReactEmojiSelect}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReactionPickerForMsgId(null),style:{marginTop:5},children:\"Cancel\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","io","Message","TypingIndicator","EmojiPicker","Toast","jsx","_jsx","jsxs","_jsxs","Chat","_ref","username","messages","setMessages","messageInput","setMessageInput","selectedFile","setSelectedFile","showInputEmojiPicker","setShowInputEmojiPicker","reactionPickerForMsgId","setReactionPickerForMsgId","typingUser","setTypingUser","activeUsers","setActiveUsers","notification","setNotification","messagesEndRef","socketRef","typingTimeoutRef","current","query","on","msg","m","find","existing","id","map","_objectSpread","status","user","emit","msgId","senderSocketId","system","_ref2","showNotification","users","clearTimeout","setTimeout","_ref3","emoji","reactions","disconnect","_messagesEndRef$curre","scrollIntoView","behavior","handleChange","e","target","value","handleKeyDown","key","shiftKey","preventDefault","trim","sendMessage","text","replyTo","message","Date","now","avatarUrl","concat","sendFile","reader","FileReader","onload","base64Data","result","fileMessage","fileName","name","fileType","type","data","readAsDataURL","handleTyping","reactToMsg","handleInputEmojiSelect","prev","handleReactEmojiSelect","style","width","border","padding","margin","background","borderRadius","children","className","length","i","placeholder","rows","onChange","onKeyDown","onClick","disabled","onSelect","marginBottom","files","marginLeft","_messages$find","reply","onReactClick","ref","position","bottom","left","zIndex","marginTop"],"sources":["C:/Users/harsh/OneDrive/Desktop/Chat-App/client/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport Message from './Message';\r\nimport TypingIndicator from './TypingIndicator';\r\nimport EmojiPicker from './EmojiPicker';\r\nimport Toast from './Toast';\r\n\r\nexport default function Chat({ username }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [messageInput, setMessageInput] = useState('');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [showInputEmojiPicker, setShowInputEmojiPicker] = useState(false);\r\n  const [reactionPickerForMsgId, setReactionPickerForMsgId] = useState(null);\r\n  const [typingUser, setTypingUser] = useState('');\r\n  const [activeUsers, setActiveUsers] = useState([]);\r\n  const [notification, setNotification] = useState('');\r\n  const messagesEndRef = useRef();\r\n  const socketRef = useRef();\r\n  const typingTimeoutRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io('http://localhost:3001', { query: { username } });\r\n\r\n    // Listen for regular messages\r\n    socketRef.current.on('message', (msg) => {\r\n      setMessages((m) => {\r\n        if (m.find(existing => existing.id === msg.id)) {\r\n          return m.map(existing => existing.id === msg.id ? { ...existing, status: msg.status } : existing);\r\n        }\r\n        return [...m, msg];\r\n      });\r\n\r\n      if (msg.user !== username) {\r\n        socketRef.current.emit('messageReceived', {\r\n          msgId: msg.id,\r\n          senderSocketId: msg.senderSocketId\r\n        });\r\n\r\n        socketRef.current.emit('readMessage', {\r\n          msgId: msg.id,\r\n          senderSocketId: msg.senderSocketId\r\n        });\r\n      }\r\n    });\r\n\r\n    // Listen for file messages\r\n    socketRef.current.on('fileMessage', (msg) => {\r\n      setMessages((m) => {\r\n        if (m.find(existing => existing.id === msg.id)) {\r\n          return m.map(existing => existing.id === msg.id ? { ...existing, status: msg.status } : existing);\r\n        }\r\n        return [...m, msg];\r\n      });\r\n\r\n      if (msg.user !== username) {\r\n        socketRef.current.emit('messageReceived', {\r\n          msgId: msg.id,\r\n          senderSocketId: msg.senderSocketId\r\n        });\r\n\r\n        socketRef.current.emit('readMessage', {\r\n          msgId: msg.id,\r\n          senderSocketId: msg.senderSocketId\r\n        });\r\n      }\r\n    });\r\n\r\n    // Listen for system messages (user joined/left)\r\n    socketRef.current.on('systemMessage', (msg) => {\r\n      setMessages((m) => [...m, { ...msg, system: true }]);\r\n    });\r\n    \r\n\r\n    // Listen for status updates\r\n    socketRef.current.on('messageStatusUpdate', ({ msgId, status }) => {\r\n      setMessages((m) =>\r\n        m.map((msg) =>\r\n          msg.id === msgId ? { ...msg, status } : msg\r\n        )\r\n      );\r\n    });\r\n\r\n    socketRef.current.on('userJoined', (msg) => showNotification(msg));\r\n    socketRef.current.on('userLeft', (msg) => showNotification(msg));\r\n    socketRef.current.on('activeUsers', (users) => setActiveUsers(users));\r\n\r\n    socketRef.current.on('typing', (user) => {\r\n      setTypingUser(user);\r\n      clearTimeout(typingTimeoutRef.current);\r\n      typingTimeoutRef.current = setTimeout(() => setTypingUser(''), 4000);\r\n    });\r\n\r\n    socketRef.current.on('stopTyping', () => {\r\n      setTypingUser('');\r\n      clearTimeout(typingTimeoutRef.current);\r\n    });\r\n\r\n    socketRef.current.on('reactUpdate', ({ msgId, emoji }) =>\r\n      setMessages((m) =>\r\n        m.map((msg) =>\r\n          msg.id === msgId ? { ...msg, reactions: [...(msg.reactions || []), emoji] } : msg\r\n        )\r\n      )\r\n    );\r\n\r\n    return () => {\r\n      socketRef.current.disconnect();\r\n      clearTimeout(typingTimeoutRef.current);\r\n    };\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  const showNotification = (msg) => {\r\n    setNotification(msg);\r\n    setTimeout(() => setNotification(\"\"), 2200);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setMessageInput(e.target.value);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      if (messageInput.trim()) {\r\n        sendMessage(messageInput);\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendMessage = (text, replyTo) => {\r\n    if (!text.trim()) return;\r\n\r\n    const message = {\r\n      id: Date.now(),\r\n      text,\r\n      user: username,\r\n      replyTo: replyTo || null,\r\n      avatarUrl: `https://ui-avatars.com/api/?name=${username}&background=random`,\r\n      senderSocketId: socketRef.current.id,\r\n      status: 'sent',\r\n    };\r\n\r\n    socketRef.current.emit('sendMessage', message);\r\n    setMessageInput('');\r\n    setShowInputEmojiPicker(false);\r\n    socketRef.current.emit('stopTyping', username);\r\n  };\r\n\r\n  const sendFile = () => {\r\n    if (!selectedFile) return;\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const base64Data = e.target.result;\r\n      const fileMessage = {\r\n        id: Date.now(),\r\n        user: username,\r\n        avatarUrl: `https://ui-avatars.com/api/?name=${username}&background=random`,\r\n        senderSocketId: socketRef.current.id,\r\n        fileName: selectedFile.name,\r\n        fileType: selectedFile.type,\r\n        data: base64Data,\r\n        status: 'sent',\r\n      };\r\n      socketRef.current.emit('sendFile', fileMessage);\r\n      setSelectedFile(null);\r\n    };\r\n    reader.readAsDataURL(selectedFile);\r\n  };\r\n\r\n  const handleTyping = () => {\r\n    if (!socketRef.current) return;\r\n\r\n    socketRef.current.emit('typing', username);\r\n\r\n    clearTimeout(typingTimeoutRef.current);\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      socketRef.current.emit('stopTyping', username);\r\n    }, 3000);\r\n  };\r\n\r\n  const reactToMsg = (msgId, emoji) => {\r\n    socketRef.current.emit('reactMessage', msgId, emoji);\r\n  };\r\n\r\n  const handleInputEmojiSelect = (emoji) => {\r\n    setMessageInput((prev) => prev + emoji);\r\n    setShowInputEmojiPicker(false);\r\n  };\r\n\r\n  const handleReactEmojiSelect = (emoji) => {\r\n    if (reactionPickerForMsgId) {\r\n      reactToMsg(reactionPickerForMsgId, emoji);\r\n      setReactionPickerForMsgId(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: 500, border: '1px solid #ccc', padding: 10, margin: 'auto', background: \"#fafaff\", borderRadius: 13 }}>\r\n      <Toast message={notification} />\r\n      <div className=\"active-users-container\">\r\n        <h4>Active Users ({activeUsers.length}):</h4>\r\n        <ul>\r\n          {activeUsers.map((user, i) => (\r\n            <li key={user + i}>{user}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <TypingIndicator typingUser={typingUser} />\r\n\r\n      <div className=\"input-container\">\r\n        <textarea\r\n          className=\"chat-input\"\r\n          placeholder=\"Type your message...\"\r\n          rows={2}\r\n          value={messageInput}\r\n          onChange={handleChange}\r\n          onKeyDown={handleKeyDown}\r\n        />\r\n        <button className=\"emoji-picker-btn\" onClick={() => setShowInputEmojiPicker(!showInputEmojiPicker)}>ðŸ˜€</button>\r\n        <button\r\n          className=\"send-btn\"\r\n          onClick={() => sendMessage(messageInput)}\r\n          disabled={!messageInput.trim()}\r\n        >\r\n          âž¤\r\n        </button>\r\n      </div>\r\n\r\n      {showInputEmojiPicker && <EmojiPicker onSelect={handleInputEmojiSelect} />}\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <input type=\"file\" onChange={(e) => setSelectedFile(e.target.files[0])} />\r\n        <button onClick={sendFile} disabled={!selectedFile} style={{ marginLeft: 8 }}>\r\n          Send File\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        {messages.map((msg) => (\r\n          <Message\r\n            key={msg.id}\r\n            msg={{\r\n              ...msg,\r\n              reply: msg.replyTo ? messages.find((m) => m.id === msg.replyTo)?.text || '' : null,\r\n            }}\r\n            onReactClick={() => setReactionPickerForMsgId(msg.id)}\r\n          />\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {reactionPickerForMsgId && (\r\n        <div style={{ position: 'fixed', bottom: 100, left: 50, zIndex: 100 }}>\r\n          <EmojiPicker onSelect={handleReactEmojiSelect} />\r\n          <button onClick={() => setReactionPickerForMsgId(null)} style={{ marginTop: 5 }}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}